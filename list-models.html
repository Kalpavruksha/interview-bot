<!DOCTYPE html>
<html>
<head>
    <title>List Models</title>
</head>
<body>
    <h1>Available Gemini Models</h1>
    <button id="listModels">List Models</button>
    <div id="result"></div>

    <script type="module">
        document.getElementById('listModels').addEventListener('click', async () => {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = '<p>Loading...</p>';
            
            try {
                const apiKey = import.meta.env?.VITE_GOOGLE_API_KEY || 'YOUR_API_KEY_HERE';
                
                if (apiKey === 'YOUR_API_KEY_HERE') {
                    resultDiv.innerHTML = '<p>Please set your API key in the .env file</p>';
                    return;
                }
                
                const response = await fetch(
                    `https://generativelanguage.googleapis.com/v1beta/models?key=${apiKey}`
                );
                
                if (!response.ok) {
                    const errorText = await response.text();
                    resultDiv.innerHTML = `<p>Error: ${errorText}</p>`;
                    return;
                }
                
                const data = await response.json();
                let html = '<h2>Available Models:</h2><ul>';
                data.models.forEach(model => {
                    html += `<li><strong>${model.name}</strong>: ${model.displayName || model.name}</li>`;
                });
                html += '</ul>';
                resultDiv.innerHTML = html;
            } catch (error) {
                resultDiv.innerHTML = `<p>Error: ${error.message}</p>`;
            }
        });
    </script>
</body>
</html>